RAILS_ENV={{ rails_env }}
RAILS_MASTER_KEY={{ rails_master_key }}
RAILS_LOG_LEVEL={{ log_level }}
RAILS_SERVE_STATIC_FILES=true

# Database
DATABASE_URL=sqlite3:storage/databases/{{ app_name }}.sqlite3

# Docker Registry
DOCKER_REGISTRY_USERNAME={{ docker_registry_username }}
DOCKER_REGISTRY_PASSWORD={{ registry_password }}

# Application
APP_NAME={{ app_name }}
APP_PORT={{ app_port }}
SERVER_NAME={{ server_name }}

# Puma
WEB_CONCURRENCY={{ puma_workers }}
RAILS_MAX_THREADS={{ puma_threads.split(':')[1] }}
RAILS_MIN_THREADS={{ puma_threads.split(':')[0] }}

# Solid Queue
SOLID_QUEUE_IN_PUMA=true

# Security
SECRET_KEY_BASE={{ ansible_date_time.epoch }}{{ inventory_hostname }}{{ app_name }}
